--- Makefile.bk	2017-05-21 17:11:02.177495231 -0500
+++ Makefile.bk.patch	2017-05-21 17:25:57.593091431 -0500
@@ -2,7 +2,8 @@
 ##   Makefile to test SZ library.
 
 ##   PLEASE SET THIS VARIABLE BEFORE COMPILING
-SZPATH		= /home/fti/sz-1.4.9-beta-install
+SZPATH		= ../../SZ/sz-install
+ZCPATH		= ../../Z-checker/zc-install
 ##   COMPILERS
 CC		= gcc
 FT		= gfortran
@@ -14,38 +15,44 @@
 #SZFLAG 	= -I$(SZPATH)/include -L$(SZPATH)/lib -lsz
 # Compiling using static library
 SZFLAG 	= -I$(SZPATH)/include $(SZPATH)/lib/libsz.a $(SZPATH)/lib/libzlib.a
+ZCFLAG  = -I$(ZCPATH)/include $(ZCPATH)/lib/libzc.a
 
 ##   TARGETS
-all: 		testfloat_compress testfloat_decompress testdouble_compress testdouble_decompress testfloat_batch_compress testdouble_batch_compress
+all: 		testfloat_compress testfloat_decompress testdouble_compress testdouble_decompress testfloat_batch_compress testdouble_batch_compress testfloat_CompDecomp testdouble_CompDecomp
 #all: 		testdouble_compress_f testdouble_decompress_f testdouble_batch_compress_f
 
 testfloat_compress:	testfloat_compress.c
-	$(CC) -lm -g -o testfloat_compress testfloat_compress.c $(SZFLAG)
+	$(CC) -lm -O3 -o testfloat_compress testfloat_compress.c $(SZFLAG)
 
 testfloat_decompress:	testfloat_decompress.c
-	$(CC) -lm -g -o testfloat_decompress testfloat_decompress.c $(SZFLAG)
+	$(CC) -lm -O3 -o testfloat_decompress testfloat_decompress.c $(SZFLAG)
 
 testdouble_compress:	testdouble_compress.c
-	$(CC) -lm -g -o testdouble_compress testdouble_compress.c $(SZFLAG)
+	$(CC) -lm -O3 -o testdouble_compress testdouble_compress.c $(SZFLAG)
 
 testdouble_decompress:	testdouble_decompress.c
-	$(CC) -lm -g -o testdouble_decompress testdouble_decompress.c $(SZFLAG)
+	$(CC) -lm -O3 -o testdouble_decompress testdouble_decompress.c $(SZFLAG)
 
 testdouble_compress_f:      testdouble_compress_f.f90
-	$(FT) -lm -g -o testdouble_compress_f testdouble_compress_f.f90 $(SZFLAG)
+	$(FT) -lm -O3 -o testdouble_compress_f testdouble_compress_f.f90 $(SZFLAG)
 
 testdouble_decompress_f:      testdouble_decompress_f.f90
-	$(FT) -lm -g -o testdouble_decompress_f testdouble_decompress_f.f90 $(SZFLAG)
+	$(FT) -lm -O3 -o testdouble_decompress_f testdouble_decompress_f.f90 $(SZFLAG)
 
 testdouble_batch_f:      testdouble_batch_f.f90
-	$(FT) -lm -g -o testdouble_batch_f testdouble_batch_f.f90 $(SZFLAG)
+	$(FT) -lm -O3 -o testdouble_batch_f testdouble_batch_f.f90 $(SZFLAG)
 
 testfloat_batch_compress:      testfloat_batch_compress.c
-	$(CC) -lm -g -o testfloat_batch_compress testfloat_batch_compress.c $(SZFLAG)
+	$(CC) -lm -O3 -o testfloat_batch_compress testfloat_batch_compress.c $(SZFLAG)
 
 testdouble_batch_compress:      testdouble_batch_compress.c
-	$(CC) -lm -g -o testdouble_batch_compress testdouble_batch_compress.c $(SZFLAG)
+	$(CC) -lm -O3 -o testdouble_batch_compress testdouble_batch_compress.c $(SZFLAG)
 
-clean:
-	rm -f test*_compress test*_decompress test*_compress_f test*_decompress_f testfloat_batch_compress testdouble_batch_compress_f
+testfloat_CompDecomp:	testfloat_CompDecomp.c
+	$(CC) -lm -O3 -o testfloat_CompDecomp testfloat_CompDecomp.c $(SZFLAG) $(ZCFLAG)
+
+testdouble_CompDecomp:	testdouble_CompDecomp.c
+	$(CC) -lm -O3 -o testdouble_CompDecomp testdouble_CompDecomp.c $(SZFLAG) $(ZCFLAG)
 
+clean:
+	rm -f test*_compress test*_decompress test*_compress_f test*_decompress_f testfloat_batch_compress testdouble_batch_compress_f test*_CompDecomp
